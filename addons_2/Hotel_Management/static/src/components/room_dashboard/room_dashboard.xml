<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="Hotel_Management.RoomDashboard" owl="1">
        <div class="room-dashboard">
            <div class="filters d-flex gap-2 mb-3">
                <button t-attf-class="btn {{ state.filter === 'all' ? 'btn-primary' : 'btn-secondary' }}" 
                        t-on-click="() => this.setFilter('all')">
                    All Rooms
                </button>
                <button t-attf-class="btn {{ state.filter === 'available' ? 'btn-primary' : 'btn-secondary' }}"
                        t-on-click="() => this.setFilter('available')">
                    Available
                </button>
                <button t-attf-class="btn {{ state.filter === 'booked' ? 'btn-primary' : 'btn-secondary' }}"
                        t-on-click="() => this.setFilter('booked')">
                    Booked
                </button>
            </div>

            <div class="room-grid position-relative">
                <t t-if="state.loading">
                    <div class="position-absolute w-100 h-100 d-flex justify-content-center align-items-center">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                </t>
                <t t-else="">
                    <t t-foreach="filteredRooms" t-as="room" t-key="room.id">
                        <div t-attf-class="{{getRoomClass(room)}}" 
                             t-on-click="() => this.onRoomClick(room.id)">
                            <h4 class="mb-3">Room <t t-esc="room.name"/></h4>
                            <div class="room-info">
                                <p class="mb-2"><i class="fa fa-bed me-2"/>Type: <t t-esc="room.bed_type"/></p>
                                <p class="mb-2"><i class="fa fa-tag me-2"/>Price: <t t-esc="room.price"/> VND</p>
                                <t t-if="room.last_booking_date">
                                    <p class="mb-0"><i class="fa fa-calendar me-2"/>Last Booked: <t t-esc="room.last_booking_date"/></p>
                                </t>
                            </div>
                            <span t-attf-class="status-badge {{room.state}}">
                                <t t-esc="room.state"/>
                            </span>
                        </div>
                    </t>
                </t>
            </div>
        </div>
    </t>
</templates>